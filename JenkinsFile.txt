 #!/usr/bin/env groovy
 
 pipeline{
 
 agent any 
 
 stages{
 
	stage'Comimit'
	{
			step *ensures that the jenkins will pull from the scm 
			{
				checkout([$class: 'GitSCM', branches: [[name: '*/master']], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: '334e2978-6242-484c-9fc9-d1d797818345', url: 'https://github.com/teamoctober/dinersclub.git']]])
				
				bat 'call mvn clean package'
				
				withSonarQubeEnv
				{
					# Mandatory Metadata required
					sonar.projectKey=Simon
					sonar.projectName=Delivery
					sonar.projectVersion=1.0
					# path to source directories
					sonar.sources=Transport Company
					sonar.jacoco.reportPath=target\\coverage-reports\\jacoco-unit.exec
				}
				
			}
	}
 
 }
 }
